{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAG8B,MAAxBC,EAAQC,SAASC,cAAc,sBAC/BC,EAAQF,SAASC,cAAc,sBAC/BE,EAAQH,SAASC,cAAc,sBAC/BG,EAAQJ,SAASC,cAAc,sBAC/BI,EAAUL,SAASC,cAAc,mBACjCK,EAAUN,SAASC,cAAc,mBACjCM,EAASP,SAASC,cAAc,kBAChCO,EAAWR,SAASS,iBAAiB,eAGiB,IAAxDC,GAAkB,EAClBC,EAAO,EAGWL,EAAdM,iBAAiB,SAAS,KAChC,GAuE6B,WAC7B,GAA4B,SAAxBb,EAAMc,MAAMC,QAAoB,CAEjB,MAAXC,EAAaf,SAASgB,eAAe,SACrCC,EAAajB,SAASgB,eAAe,SAErCE,EAAU,QAEhB,IAHgB,6BAGAC,KAAKJ,EAAWK,MAAMC,QAEnB,OADjBxB,EAAAyB,OAAOC,QAAQ,6BACR,EAET,IAAKL,EAAWC,KAAKF,EAAWG,MAAMC,QAEN,OAD9BxB,EAAAyB,OAAOC,QAAQ,sCACR,C,MAEJ,GAA4B,SAAxBrB,EAAMW,MAAMC,QAAoB,CAExB,MAAXU,EAAgBxB,SAASgB,eAAe,SACxCS,EAAuBzB,SAASgB,eAAe,SAGrD,IAFmB,iDAEAG,KAAKK,EAAcJ,MAAMC,QAI1C,OAHAxB,EAAAyB,OAAOC,QACL,iFAEK,EAET,GAAIC,EAAcJ,QAAUK,EAAqBL,MAE5B,OADnBvB,EAAAyB,OAAOC,QAAQ,0BACR,C,MAEJ,GAA4B,SAAxBpB,EAAMU,MAAMC,QAAoB,CAExB,MAAXY,EAAY1B,SAASgB,eAAe,QACpCW,EAAgB3B,SAASgB,eAAe,aAE9C,GAA+B,KAA3BU,EAAUN,MAAMC,OAED,OADjBxB,EAAAyB,OAAOC,QAAQ,wBACR,EAET,GAAmC,KAA/BI,EAAcP,MAAMC,OAEtB,OADAxB,EAAAyB,OAAOC,QAAQ,4BACR,C,CAGX,OAAO,C,CArHHK,GAAgB,CAEU,SAAxB7B,EAAMc,MAAMC,SACdf,EAAMc,MAAMC,QAAU,OACtBZ,EAAMW,MAAMC,QAAU,QACtBT,EAAQQ,MAAMC,QAAU,OACxBJ,GAAkB,EAClBC,EAAO,GAC0B,SAAxBT,EAAMW,MAAMC,SACrBZ,EAAMW,MAAMC,QAAU,OACtBX,EAAMU,MAAMC,QAAU,QACtBH,EAAO,GAC0B,SAAxBR,EAAMU,MAAMC,UACrBX,EAAMU,MAAMC,QAAU,OACtBV,EAAMS,MAAMC,QAAU,OACtBR,EAAQO,MAAMC,QAAU,OACxBP,EAAOM,MAAMC,QAAU,QACvBH,EAAO,GAGT,IAAK,IAAIkB,EAAI,EAAGA,EAAIrB,EAASsB,OAAQD,GAAK,EACxC,GAAIrB,EAASqB,GAAGE,UAAUC,SAAS,qBAAsB,CACvDxB,EAASqB,GAAGE,UAAUE,OAAO,qBAC7B,K,CAIJzB,EAASG,EAAO,GAAGoB,UAAUG,IAAI,oB,KAKdlC,SAAdC,cAAc,mBAAmBW,iBAAiB,SAAS,KAEjB,IAA7CF,EAA6C,CAKrB,SAAxBR,EAAMW,MAAMC,SACdZ,EAAMW,MAAMC,QAAU,OACtBf,EAAMc,MAAMC,QAAU,QACtBJ,GAAkB,EAClBL,EAAQQ,MAAMC,QAAU,OACxBH,EAAO,EACPwB,QAAQC,IAAI,MACqB,SAAxBjC,EAAMU,MAAMC,SACrBX,EAAMU,MAAMC,QAAU,OACtBZ,EAAMW,MAAMC,QAAU,QACtBH,EAAO,EACPwB,QAAQC,IAAI,MACqB,SAAxBhC,EAAMS,MAAMC,UACrBV,EAAMS,MAAMC,QAAU,OACtBX,EAAMU,MAAMC,QAAU,QACtBR,EAAQO,MAAMC,QAAU,QACxBP,EAAOM,MAAMC,QAAU,OACvBH,EAAO,EACPwB,QAAQC,IAAI,MAGd,IAAK,IAAIP,EAAI,EAAGA,EAAIrB,EAASsB,OAAQD,GAAK,EACxC,GAAIrB,EAASqB,GAAGE,UAAUC,SAAS,qBAAsB,CACvDxB,EAASqB,GAAGE,UAAUE,OAAO,qBAC7B,K,CAIJzB,EAASG,EAAO,GAAGoB,UAAUG,IAAI,oBAhC/B,CAgCmD,ICrFvDrC,EAAAC,EAAA,SACaE,SAASC,cAAc,wBAE/BW,iBAAiB,UAoCtB,SAAsByB,GACpBA,EAAMC,iBAEN,MACEC,UAAYC,MAAAC,EAAKC,SAAEA,IACjBL,EAAMM,eAtCqB,SAAfC,EAAUF,EAAUG,GAEiB,IAAjDC,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,GAOzD,GAJsBJ,EAAMK,MAAK,SAAUC,GACzC,OAAOA,EAAKR,WAAaA,C,IAKD,YADxB/C,EAAAyB,OAAO+B,QAAQ,gCAKQ,IAArBC,EAAU,CACZV,SAAUA,EACVF,SAAUA,GAIsBI,EAA5BS,KAAKD,GAG+CL,aAA7CO,QAAQ,QAAST,KAAKU,UAAUX,IAE7CjD,EAAAyB,OAAOoC,QAAQ,sCAEgBb,EAAnBF,cAAcgB,QAiBS,SAAtBf,EAAUF,GAE8B,IAGjDkB,GAHQb,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,IAGxCW,MAAK,SAAUT,GAC9B,OAAOA,EAAKR,WAAaA,C,IAGvBgB,GAAQA,EAAKlB,WAAaA,GAE8BO,aAA7CO,QAAQ,cAAeT,KAAKU,UAAUG,IAEnD/D,EAAAyB,OAAOoC,QAAQ,kCAEUI,YAAd,KACTC,OAAOC,SAASC,OAAO,sBAAsB,GAC5C,MAIHpE,EAAAyB,OAAO+B,QAAQ,0C,CApCjBa,CAAMtB,EAAUF,E,CAUhByB,CAAS1B,EAAMrB,MAAOsB,EAAStB,MAAOiB,E,IC9CxC,MAAM+B,EAA8BpE,SAASC,cAC3C,qCAEIoE,EAAQrE,SAASC,cAAc,UAC/BqE,EAAetE,SAASC,cAAc,kBACtCsE,EAA2BvE,SAASC,cACxC,iCAQkB8C,KAAKC,MAAMC,aAAaC,QAAQ,iBAG5CkB,GACFA,EAA4BrC,UAAUE,OAAO,mBAE3CoC,GACFA,EAAMtC,UAAUG,IAAI,mBAElBoC,GACFA,EAAavC,UAAUG,IAAI,mBAEzBqC,IACFA,EAAyB1D,MAAMC,QAAU,UAIvCsD,GACFA,EAA4BrC,UAAUG,IAAI,mBAExCmC,GACFA,EAAMtC,UAAUE,OAAO,mBAErBqC,GACFA,EAAavC,UAAUE,OAAO","sources":["src/js/user-registration-form/validateStep.js","src/js/user-registration-form/registeringtoLocalStorage.js","src/js/checkLoggedIn.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n// Получаем все необходимые элементы\nconst step1 = document.querySelector('.step__wrap-form-1');\nconst step2 = document.querySelector('.step__wrap-form-2');\nconst step3 = document.querySelector('.step__wrap-form-3');\nconst step4 = document.querySelector('.step__wrap-form-4');\nconst prewBtn = document.querySelector('.form__prew-btn');\nconst nextBtn = document.querySelector('.form__next-btn');\nconst endBtn = document.querySelector('.form__end-btn');\nconst stepLine = document.querySelectorAll('.step__line');\n\n// Переменная для блокировки кнопки \"Назад\" во время перехода между шагами\nlet isTransitioning = true;\nlet stap = 1;\n\n// При нажатии на кнопку \"Далі\"\nnextBtn.addEventListener('click', () => {\n  if (validateStep()) {\n    // Проверяем текущий шаг и переключаемся на следующий\n    if (step1.style.display !== 'none') {\n      step1.style.display = 'none';\n      step2.style.display = 'block';\n      prewBtn.style.display = 'flex';\n      isTransitioning = false;\n      stap = 2;\n    } else if (step2.style.display !== 'none') {\n      step2.style.display = 'none';\n      step3.style.display = 'block';\n      stap = 3;\n    } else if (step3.style.display !== 'none') {\n      step3.style.display = 'none';\n      step4.style.display = 'flex';\n      nextBtn.style.display = 'none';\n      endBtn.style.display = 'block';\n      stap = 4;\n    }\n\n    for (let i = 0; i < stepLine.length; i += 1) {\n      if (stepLine[i].classList.contains('step__line-active')) {\n        stepLine[i].classList.remove('step__line-active');\n        break;\n      }\n    }\n\n    stepLine[stap - 1].classList.add('step__line-active');\n  }\n});\n\n// При нажатии на кнопку \"Назад\"\ndocument.querySelector('.form__prew-btn').addEventListener('click', () => {\n  // Если уже идет переход между шагами, выходим из обработчика\n  if (isTransitioning) {\n    return;\n  }\n\n  // Проверяем текущий шаг и переключаемся на предыдущий, только если не на первом шаге\n  if (step2.style.display !== 'none') {\n    step2.style.display = 'none';\n    step1.style.display = 'block';\n    isTransitioning = true;\n    prewBtn.style.display = 'none';\n    stap = 1;\n    console.log('1');\n  } else if (step3.style.display !== 'none') {\n    step3.style.display = 'none';\n    step2.style.display = 'block';\n    stap = 2;\n    console.log('2');\n  } else if (step4.style.display !== 'none') {\n    step4.style.display = 'none';\n    step3.style.display = 'block';\n    nextBtn.style.display = 'block';\n    endBtn.style.display = 'none';\n    stap = 3;\n    console.log('3');\n  }\n\n  for (let i = 0; i < stepLine.length; i += 1) {\n    if (stepLine[i].classList.contains('step__line-active')) {\n      stepLine[i].classList.remove('step__line-active');\n      break;\n    }\n  }\n\n  stepLine[stap - 1].classList.add('step__line-active');\n});\n\n// Функция для валидации текущего шага\nfunction validateStep() {\n  if (step1.style.display !== 'none') {\n    // Проверяем поля шага 1\n    const emailInput = document.getElementById('email');\n    const phoneInput = document.getElementById('phone');\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const phoneRegex = /^\\d+$/;\n\n    if (!emailRegex.test(emailInput.value.trim())) {\n      Notify.failure('Введіть правильний Email');\n      return false;\n    }\n    if (!phoneRegex.test(phoneInput.value.trim())) {\n      Notify.failure('Введіть правильний номер телефону');\n      return false;\n    }\n  } else if (step2.style.display !== 'none') {\n    // Проверяем поля шага 2\n    const passwordInput = document.getElementById('show2');\n    const confirmPasswordInput = document.getElementById('show3');\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d]{8,}$/;\n\n    if (!passwordRegex.test(passwordInput.value.trim())) {\n      Notify.failure(\n        'Пароль повинен містити принаймні 8 символів, включаючи великі та малі літери'\n      );\n      return false;\n    }\n    if (passwordInput.value !== confirmPasswordInput.value) {\n      Notify.failure('Паролі не співпадають');\n      return false;\n    }\n  } else if (step3.style.display !== 'none') {\n    // Проверяем поля шага 3\n    const nameInput = document.getElementById('name');\n    const lastNameInput = document.getElementById('last-name');\n\n    if (nameInput.value.trim() === '') {\n      Notify.failure('Заповніть поле Імʼя');\n      return false;\n    }\n    if (lastNameInput.value.trim() === '') {\n      Notify.failure('Заповніть поле Прізвище');\n      return false;\n    }\n  }\n  return true;\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst form = document.querySelector('.registration_client');\n\nform.addEventListener('submit', handleSubmit);\n\n// Функция для регистрации пользователя\nfunction register(username, password, eventSubmit) {\n  // Получаем сохраненных пользователей из локального хранилища\n  var users = JSON.parse(localStorage.getItem('users')) || [];\n\n  // Проверяем, не занят ли выбранный username\n  var isUsernameTaken = users.some(function (user) {\n    return user.username === username;\n  });\n\n  if (isUsernameTaken) {\n    Notify.warning('Імя користувача вже зайняте.');\n    return;\n  }\n\n  // Создаем нового пользователя\n  var newUser = {\n    username: username,\n    password: password,\n  };\n\n  // Добавляем нового пользователя в список\n  users.push(newUser);\n\n  // Сохраняем обновленный список пользователей в локальное хранилище\n  localStorage.setItem('users', JSON.stringify(users));\n\n  Notify.success('Користувач успішно зареєстрований.');\n\n  eventSubmit.currentTarget.reset();\n\n  login(username, password);\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const {\n    elements: { login, password },\n  } = event.currentTarget;\n\n  register(login.value, password.value, event);\n}\n\n//////////\n// Функция для выполнения входа пользователя\nfunction login(username, password) {\n  // Получаем сохраненных пользователей из локального хранилища\n  var users = JSON.parse(localStorage.getItem('users')) || [];\n\n  // Ищем пользователя с указанным именем пользователя\n  var user = users.find(function (user) {\n    return user.username === username;\n  });\n\n  if (user && user.password === password) {\n    // Сохраняем информацию о текущем пользователе в локальное хранилище\n    localStorage.setItem('currentUser', JSON.stringify(user));\n\n    Notify.success('Ви успішно увійшли до системи.');\n\n    setTimeout(() => {\n      window.location.assign('private-office.html');\n    }, 500);\n    // Вы можете выполнить перенаправление на другую страницу\n  } else {\n    // Неверное имя пользователя или пароль\n    Notify.warning('Неправильне імя користувача або пароль.');\n  }\n}\n","const pageHeaderPrivateOfficeMenu = document.querySelector(\n  '.page-header__private-office-menu'\n);\nconst login = document.querySelector('.login');\nconst choosePerson = document.querySelector('.choose-person');\nconst pageHheaderImgUserClient = document.querySelector(\n  '.page-header__img-user-client'\n);\n\n// Функция для проверки, вошел ли пользователь в систему\ncheckLoggedIn();\n\nfunction checkLoggedIn() {\n  // Проверяем, есть ли информация о текущем пользователе в локальном хранилище\n  var currentUser = JSON.parse(localStorage.getItem('currentUser'));\n\n  if (currentUser) {\n    if (pageHeaderPrivateOfficeMenu) {\n      pageHeaderPrivateOfficeMenu.classList.remove('visually-hidden');\n    }\n    if (login) {\n      login.classList.add('visually-hidden');\n    }\n    if (choosePerson) {\n      choosePerson.classList.add('visually-hidden');\n    }\n    if (pageHheaderImgUserClient) {\n      pageHheaderImgUserClient.style.display = 'none';\n    }\n    // Вы можете выполнить перенаправление на другую страницу\n  } else {\n    if (pageHeaderPrivateOfficeMenu) {\n      pageHeaderPrivateOfficeMenu.classList.add('visually-hidden');\n    }\n    if (login) {\n      login.classList.remove('visually-hidden');\n    }\n    if (choosePerson) {\n      choosePerson.classList.remove('visually-hidden');\n    }\n    // Вы можете выполнить перенаправление на страницу входа или другую страницу\n  }\n}\n"],"names":["$iQIUW","parcelRequire","$24edb02489ffb90b$var$step1","document","querySelector","$24edb02489ffb90b$var$step2","$24edb02489ffb90b$var$step3","$24edb02489ffb90b$var$step4","$24edb02489ffb90b$var$prewBtn","$24edb02489ffb90b$var$nextBtn","$24edb02489ffb90b$var$endBtn","$24edb02489ffb90b$var$stepLine","querySelectorAll","$24edb02489ffb90b$var$isTransitioning","$24edb02489ffb90b$var$stap","addEventListener","style","display","emailInput","getElementById","phoneInput","phoneRegex","test","value","trim","Notify","failure","passwordInput","confirmPasswordInput","nameInput","lastNameInput","$24edb02489ffb90b$var$validateStep","i","length","classList","contains","remove","add","console","log","event","preventDefault","elements","login","login1","password","currentTarget","username","eventSubmit","users","JSON","parse","localStorage","getItem","some","user","warning","newUser","push","setItem","stringify","success","reset","user1","find","setTimeout","window","location","assign","$d56188d42f2ba698$var$login","$d56188d42f2ba698$var$register","$cd12d6c19057112e$var$pageHeaderPrivateOfficeMenu","$cd12d6c19057112e$var$login","$cd12d6c19057112e$var$choosePerson","$cd12d6c19057112e$var$pageHheaderImgUserClient"],"version":3,"file":"registration_form.15b91e01.js.map"}